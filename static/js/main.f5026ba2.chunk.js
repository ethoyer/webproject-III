(this["webpackJsonpwebproject-iii"]=this["webpackJsonpwebproject-iii"]||[]).push([[0],{42:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),o=a.n(l),i=a(6),c=a(15);a(18);c.initializeApp({apiKey:"AIzaSyAxM264qthYVjnwJPcMJNYu2nueBAmpY_4",authDomain:"web-iii-a91c8.firebaseapp.com",databaseURL:"https://web-iii-a91c8.firebaseio.com",projectId:"web-iii-a91c8",storageBucket:"web-iii-a91c8.appspot.com",messagingSenderId:"853961489045",appId:"1:853961489045:web:789a743d228cc0b252b99c",measurementId:"G-T9LRESEJ1M"});var u=c.firestore(),m={firebase:c,db:u},s=(a(51),a(42),a(76),a(33)),p=a(10),d=a(62),E=function(e){var t=e.component,a=Object(d.a)(e,["component"]),n=Object(i.l)();return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},g=a(26),h=a(27),f=a(29),y=a(28),b=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"handleClick",value:function(e){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:this.props.url,onClick:this.handleClick}," ",this.props.title," "))}}]),a}(r.a.Component);var v=function(){return r.a.createElement("div",{id:"homepage"},r.a.createElement("h1",null,"Social Integration Services"),r.a.createElement("div",null,r.a.createElement(b,{url:"",title:"Mentorships (TBA)"}),r.a.createElement(b,{url:"",title:"Courses (TBA)"}),r.a.createElement(b,{url:"/browsemarket",title:"Marketplace"})))},C=a(30),k=a(16),w=a(19),S=(a(20),a(91)),F=a(86),j=function(){var e=Object(n.useState)({email:"",password:"",error:""}),t=Object(w.a)(e,2),a=t[0],l=t[1],o=function(e){var t;l(Object(k.a)(Object(k.a)({},a),{},(t={},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"error",""),t)))},c=Object(i.i)();return c.auth().onAuthStateChanged((function(e){e&&(window.location="/")})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formBox"},r.a.createElement("h1",null,"Log In"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),c.auth().signInWithEmailAndPassword(a.email,a.password).catch((function(e){l(Object(k.a)(Object(k.a)({},a),{},{error:e.message}))}))}},r.a.createElement(S.a.Control,{type:"text",placeholder:"Email",name:"email",onChange:o}),r.a.createElement("br",null),r.a.createElement(S.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:o}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(F.a,{type:"submit"},"Log in"))),a.error&&r.a.createElement("h4",null,a.error),r.a.createElement("div",{class:"a"}," Not registered? ",r.a.createElement("a",{href:"/register"},"Create an Account!"))))},I=a(11),O=a.n(I),L=a(21),B=function(){var e=Object(n.useState)({email:"",password:"",fname:"",lname:"",dob:"",country:"",city:"",phoneno:"",error:""}),t=Object(w.a)(e,2),a=t[0],l=t[1],o=Object(i.i)(),c=function(e){var t;l(Object(k.a)(Object(k.a)({},a),{},(t={},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"error",""),t)))},u=function(){var e=Object(L.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(e){o.firestore().collection("users").doc(a.email).set({fname:a.fname,lname:a.lname,dob:a.dob,country:a.country,city:a.city,phoneno:a.phoneno,profileimg:"https://res.cloudinary.com/dysv4qjk7/image/upload/v1605276354/profile_placeholder_ia0maj.png"}).then((function(e){!0===!0&&(window.location="/registersuccess")}))})).catch((function(e){document.getElementById("registerErrorMessage").innerHTML=e.message}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formBox"},r.a.createElement("div",null,r.a.createElement("h1",null,"Sign up")),r.a.createElement("form",{className:"form",onSubmit:u},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"E-mail:"),r.a.createElement(S.a.Control,{type:"text",placeholder:"Email",name:"email",onChange:c})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Password:"),r.a.createElement(S.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:c})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Name:"),r.a.createElement(S.a.Control,{type:"text",placeholder:"First Name",name:"fname",onChange:c,required:!0}),r.a.createElement(S.a.Control,{type:"text",placeholder:"Last name",name:"lname",onChange:c,required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Date of birth:"),r.a.createElement(S.a.Control,{type:"date",name:"dob",onChange:c,required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Current location:"),r.a.createElement(S.a.Control,{type:"text",placeholder:"Country",name:"country",onChange:c,required:!0}),r.a.createElement(S.a.Control,{type:"text",placeholder:"City",name:"city",onChange:c,required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Phone no:"),r.a.createElement(S.a.Control,{type:"tel",placeholder:"+47 888 88 888",name:"phoneno",onChange:c,required:!0})),r.a.createElement(F.a,{type:"submit"},"Sign Up")),r.a.createElement("p",{id:"registerErrorMessage"})))};var N=function(){return r.a.createElement("main",null,r.a.createElement("h2",null,"User registered successfully"),r.a.createElement("a",{href:"/"},"Press here to return to homepage"))},x=a(55);var T=function(){var e=Object(i.l)();return Object(i.i)().firestore().collection("users").doc(e.email).get().then((function(e){e.exists?(document.getElementById("userfullname").innerHTML=e.data().fname+" "+e.data().lname,document.getElementById("userage").innerHTML=e.data().dob,document.getElementById("userlocationcountry").innerHTML=e.data().country,document.getElementById("userlocationcity").innerHTML=e.data().city,document.getElementById("userProfileImage").setAttribute("src",e.data().profileimg)):document.getElementById("userinformationerror").innerHTML="Error collecting user information."})).catch((function(e){console.log("Error getting document:",e),document.getElementById("userinformationerror").innerHTML="Error collecting user information. "+e})),r.a.createElement(x.a,{id:"userInfo"},r.a.createElement("p",{id:"userinformationerror"}),r.a.createElement("img",{id:"userProfileImage",alt:"",src:""}),r.a.createElement("p",null,"Name: ",r.a.createElement("span",{id:"userfullname"})),r.a.createElement("p",null,"Birthdate: ",r.a.createElement("span",{id:"userage"})),r.a.createElement("p",{id:"userlocation"},"Location: ",r.a.createElement("span",{id:"userlocationcountry"}),", ",r.a.createElement("span",{id:"userlocationcity"})),r.a.createElement(F.a,{href:"/editprofile"},"Edit Profile"))},P=a(87),G=a(92);var D=function(){var e=Object(i.l)(),t=[],a=Object(n.useState)([]),l=Object(w.a)(a,2),o=l[0],u=l[1];return Object(n.useEffect)((function(){0===o.length&&(c.firestore().collection("category").doc("books_and_supplies").collection("listings").where("seller","==",e.email).onSnapshot((function(e){e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})).forEach((function(e){e.category="books_and_supplies",t.push(e)}))})),c.firestore().collection("category").doc("furniture").collection("listings").where("seller","==",e.email).onSnapshot((function(e){e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})).forEach((function(e){e.category="furniture",t.push(e)}))})),c.firestore().collection("category").doc("housing").collection("listings").where("seller","==",e.email).onSnapshot((function(e){e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})).forEach((function(e){e.category="housing",t.push(e)}))})),c.firestore().collection("category").doc("services").collection("listings").where("seller","==",e.email).onSnapshot((function(e){e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})).forEach((function(e){e.category="services",t.push(e)})),u(t)})))}),[t,o]),r.a.createElement(x.a,{id:"userListings"},r.a.createElement("h2",null,"Your Listings"),r.a.createElement(P.a,null,o.map((function(e){return r.a.createElement(G.a,{key:e.id,id:e.id,className:e.category},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Title,null,e.title),r.a.createElement(G.a.Text,null,e.price,e.monthlyRent,e.currency),r.a.createElement("a",{className:e.category,onClick:function(e){return function(e){var t=e.target.parentNode.parentNode.id,a=e.target.className;c.firestore().collection("category").doc(a).collection("listings").doc(t).delete().then((function(){window.location.reload()})).catch((function(){}))}(e)}},"Delete Listing")))}))))},q=a(88);var A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Profile"),r.a.createElement(q.a,null,r.a.createElement(T,null),r.a.createElement(D,null)))},_=a(35),R=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).showWidget=n.showWidget.bind(Object(_.a)(n)),n}return Object(h.a)(a,[{key:"showWidget",value:function(e){e.open()}},{key:"render",value:function(){var e=this,t=this.props.newProfileImage,a=window.cloudinary.createUploadWidget({cloudName:"dysv4qjk7",uploadPreset:"jkkfqmxl"},(function(e,a){!e&&a&&"success"===a.event&&t.push(a.info.secure_url)}));return r.a.createElement("button",{type:"button",id:"upload_widget",className:"cloudinary-button",onClick:function(){return e.showWidget(a)}},"Upload Image")}}]),a}(r.a.Component),H=a(56),U=function(){var e=Object(i.l)(),t=Object(i.i)(),a=t.firestore().collection("users").doc(e.email),n=[],l=function(){var e=Object(L.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.abrupt("return",a.update({fname:document.getElementById("userinputfname").value,lname:document.getElementById("userinputlname").value,dob:document.getElementById("userinputdob").value,country:document.getElementById("userinputcountry").value,city:document.getElementById("userinputcity").value,phoneno:document.getElementById("userinputphoneno").value,profileimg:n}).then((function(){document.getElementById("userinfoupdate").innerHTML="User information has been updated."})).catch((function(e){console.log(e.message)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var a=Object(L.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),t.auth().sendPasswordResetEmail(e.email).then((function(){document.getElementById("accountinfoupdate").innerHTML="Password reset e-mail has been sent to "+e.email+"."})).catch((function(e){}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a.get().then((function(t){t.exists&&(document.getElementById("userinputemail").value=e.email,document.getElementById("userinputfname").value=t.data().fname,document.getElementById("userinputlname").value=t.data().lname,document.getElementById("userinputdob").value=t.data().dob,document.getElementById("userinputcountry").value=t.data().country,document.getElementById("userinputcity").value=t.data().city,document.getElementById("userinputphoneno").value=t.data().phoneno,document.getElementById("currentUserProfileImage").setAttribute("src",t.data().profileimg))})).catch((function(e){console.log("Error getting document:",e)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"editUser"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Edit Profile"),r.a.createElement("hr",null)),r.a.createElement("form",{className:"form",onSubmit:l},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"First Name:"),r.a.createElement(S.a.Control,{id:"userinputfname",type:"text",placeholder:"First Name",name:"fname"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Last Name:"),r.a.createElement(S.a.Control,{id:"userinputlname",type:"text",placeholder:"Last name",name:"lname"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Date of birth:"),r.a.createElement(S.a.Control,{id:"userinputdob",type:"date",name:"dob"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Phone no.:"),r.a.createElement(S.a.Control,{id:"userinputphoneno",type:"tel",placeholder:"+47 888 88 888",name:"phoneno"})),r.a.createElement("p",null,"Location"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Country:"),r.a.createElement(S.a.Control,{id:"userinputcountry",type:"text",placeholder:"Country",name:"country"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"City:"),r.a.createElement(S.a.Control,{id:"userinputcity",type:"text",placeholder:"City",name:"city"})),r.a.createElement("p",null,"Change profile image:"),r.a.createElement(S.a.Group,null,r.a.createElement(H.a,{id:"currentUserProfileImage",alt:"profile image",src:""})),r.a.createElement(S.a.Group,null,r.a.createElement(R,{newProfileImage:n})),r.a.createElement(S.a.Group,null,r.a.createElement(F.a,{type:"submit"},"Save changes"))),r.a.createElement("p",{id:"userinfoupdate"}),r.a.createElement("h2",null,"Edit Account Information"),r.a.createElement("form",{onSubmit:o},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"E-mail:"),r.a.createElement(S.a.Control,{id:"userinputemail",type:"email",placeholder:"email@hotmail.com",name:"email",disabled:"disabled"}),r.a.createElement(F.a,{type:"submit"},"Reset password"))),r.a.createElement("p",{id:"accountinfoupdate"})))},W=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).showWidget=n.showWidget.bind(Object(_.a)(n)),n}return Object(h.a)(a,[{key:"showWidget",value:function(e){e.open()}},{key:"render",value:function(){var e=this,t=this.props.imageArray,a=window.cloudinary.createUploadWidget({cloudName:"dysv4qjk7",uploadPreset:"jkkfqmxl"},(function(e,a){!e&&a&&"success"===a.event&&t.push(a.info.secure_url)}));return r.a.createElement("button",{type:"button",id:"upload_widget",className:"cloudinary-button",onClick:function(){return e.showWidget(a)}},"Upload Images")}}]),a}(r.a.Component),M=function(){var e=Object(i.i)(),t=Object(i.l)(),a=[],n=function(){var n=Object(L.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),0===a.length&&a.push("https://res.cloudinary.com/dysv4qjk7/image/upload/v1605793088/no_image_raloja.png"),e.firestore().collection("category").doc("books_and_supplies").collection("listings").doc().set({seller:t.email,title:document.getElementById("booksSuppliesTitle").value,books:document.getElementById("listingbooks").value,supplies:document.getElementById("listingsupplies").value,condition:document.getElementById("itemConditionForm").value,country:document.getElementById("booksSuppliesCountry").value,city:document.getElementById("booksSuppliesCity").value,currency:document.getElementById("currencyBooksSuppliesForm").value,price:document.getElementById("booksSuppliesPrice").value,shipping:document.getElementById("booksSuppliesShippingForm").value,description:document.getElementById("booksSuppliesDescription").value,images:a}).then((function(e){window.location="/newlistingsuccess"})).catch((function(e){console.log(e.message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesTitle",className:"formtitledescription"},"Title:"),r.a.createElement(S.a.Control,{type:"text",name:"booksSuppliesTitle",id:"booksSuppliesTitle",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesCategory"},"Sub-category:"),r.a.createElement(S.a.Check,{type:"radio",id:"listingbooks",value:"Books",label:"Books",name:"booksSuppliesCategory"}),r.a.createElement(S.a.Check,{type:"radio",id:"listingsupplies",value:"Supplies",label:"Supplies",name:"booksSuppliesCategory"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"itemConditionForm"},"Condition:"),r.a.createElement(S.a.Control,{as:"select",name:"itemConditionForm",id:"itemConditionForm",required:!0},r.a.createElement("option",{value:"Like New",default:!0},"Like New"),r.a.createElement("option",{value:"Slight Wear"},"Slight wear and tear"),r.a.createElement("option",{value:"Noticeable Wear"},"Noticeable wear and tear"))),r.a.createElement("p",null,"Location"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesCountry"},"Country:"),r.a.createElement(S.a.Control,{type:"text",name:"booksSuppliesCountry",id:"booksSuppliesCountry",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesCity"},"City:"),r.a.createElement(S.a.Control,{type:"text",name:"booksSuppliesCity",id:"booksSuppliesCity",required:!0})),r.a.createElement("p",null,"Payment Information"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"currencyBooksSuppliesForm"},"Currency"),r.a.createElement(S.a.Control,{as:"select",name:"currencyBooksSuppliesForm",id:"currencyBooksSuppliesForm",required:!0},r.a.createElement("option",{value:"EUR",default:!0},"EUR"),r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"NOK"},"NOK"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesPrice"},"Price:"),r.a.createElement("input",{type:"number",name:"booksSuppliesPrice",id:"booksSuppliesPrice",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesShippingForm"},"Shipping:"),r.a.createElement(S.a.Check,{type:"radio",value:"Can be shipped",label:"Can be shipped",name:"booksSuppliesShipping",id:"booksSuppliesShippingForm"}),r.a.createElement(S.a.Check,{type:"radio",value:"Needs pick-up",label:"Needs pick-up",id:"booksSuppliesPickup",name:"booksSuppliesPickup"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"booksSuppliesDescription",className:"formtitledescription"},"Description:"),r.a.createElement(S.a.Control,{as:"textarea",rows:5,placeholder:"Write description here...",name:"booksSuppliesDescription",id:"booksSuppliesDescription"})),r.a.createElement(W,{imageArray:a}),r.a.createElement(F.a,{type:"submit"},"Submit")))},z=function(){var e=Object(i.i)(),t=Object(i.l)(),a=[],n=function(){var n=Object(L.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),0===a.length&&a.push("https://res.cloudinary.com/dysv4qjk7/image/upload/v1605793088/no_image_raloja.png"),e.firestore().collection("category").doc("housing").collection("listings").doc().set({seller:t.email,title:document.getElementById("housingTitle").value,country:document.getElementById("housingCountry").value,city:document.getElementById("housingCity").value,street:document.getElementById("housingStreet").value,housingType:document.getElementById("housingType").value,size:document.getElementById("housingSize").value,floor:document.getElementById("housingFloor").value,rentingPeriod:document.getElementById("housingRentingPeriod").value,availableFrom:document.getElementById("housingAvailableFromDate").value,currency:document.getElementById("currencyHousingForm").value,monthlyRent:document.getElementById("housingRentPrice").value,deposit:document.getElementById("housingDepositPrice").value,description:document.getElementById("housingDescription").value,images:a}).then((function(e){window.location="/newlistingsuccess"})).catch((function(e){console.log(e.message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingTitle",className:"formtitledescription"},"Title:"),r.a.createElement(S.a.Control,{type:"text",name:"housingTitle",id:"housingTitle",required:!0})),r.a.createElement("p",null,"Location"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingCountry"},"Country:"),r.a.createElement(S.a.Control,{type:"text",name:"housingCountry",id:"housingCountry",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingCity"},"City:"),r.a.createElement(S.a.Control,{type:"text",name:"housingCity",id:"housingCity",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingStreet"},"Street:"),r.a.createElement(S.a.Control,{type:"text",name:"housingStreet",id:"housingStreet",required:!0})),r.a.createElement("p",null,"Housing Information"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingType"},"Housing type:"),r.a.createElement(S.a.Control,{as:"select",id:"housingType",name:"housingType",required:!0},r.a.createElement("option",{value:"sharedHousing"},"Shared housing"),r.a.createElement("option",{value:"studio apartment"},"studio apartment"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingSize"},"Size(m",r.a.createElement("sup",null,"2"),"):"),r.a.createElement(S.a.Control,{type:"number",name:"housingSize",id:"housingSize",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingFloor"},"Floor:"),r.a.createElement(S.a.Control,{type:"number",name:"housingFloor",id:"housingFloor",required:!0})),r.a.createElement("p",null,"Rent Information"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingRentingPeriod"},"Renting period:"),r.a.createElement(S.a.Control,{as:"select",name:"housingRentingPeriod",id:"housingRentingPeriod",required:!0},r.a.createElement("option",{value:"short term",default:!0},"Short Term"),r.a.createElement("option",{value:"long term"},"Long Term"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingAvailableFromDate"},"Available from:"),r.a.createElement(S.a.Control,{type:"date",name:"housingAvailableFromDate",id:"housingAvailableFromDate",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"currencyHousingForm"},"Currency:"),r.a.createElement(S.a.Control,{as:"select",name:"currencyHousingForm",id:"currencyHousingForm",required:!0},r.a.createElement("option",{value:"EUR"},"EUR"),r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"NOK"},"NOK"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"hosingRentPrice"},"Monthly rent:"),r.a.createElement(S.a.Control,{type:"number",name:"hosingRentPrice",id:"housingRentPrice",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingDepositPrice"},"Deposit:"),r.a.createElement(S.a.Control,{type:"number",name:"housingDepositPrice",id:"housingDepositPrice",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"housingDescription",className:"formtitledescription"},"Description:"),r.a.createElement(S.a.Control,{as:"textarea",rows:5,placeholder:"Write description here...",name:"housingDescription",id:"housingDescription"})),r.a.createElement(W,{imageArray:a}),r.a.createElement(F.a,{className:"btn btn-primary",type:"submit"},"Submit")))},K=function(){var e=Object(i.i)(),t=Object(i.l)(),a=[],n=function(){var n=Object(L.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),0===a.length&&a.push("https://res.cloudinary.com/dysv4qjk7/image/upload/v1605793088/no_image_raloja.png"),e.firestore().collection("category").doc("furniture").collection("listings").doc().set({seller:t.email,title:document.getElementById("furnitureTitle").value,country:document.getElementById("furnitureCountry").value,city:document.getElementById("furnitureCity").value,furnitureCategory:document.getElementById("furnitureCategory").value,currency:document.getElementById("currencyFurnitureForm").value,price:document.getElementById("furniturePrice").value,condition:document.getElementById("furnitureCondition").value,shipping:document.getElementById("furnitureShippingForm").value,description:document.getElementById("furnitureDescription").value,images:a}).then((function(e){window.location="/newlistingsuccess"})).catch((function(e){console.log(e.message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureTitle",className:"formtitledescription"},"Title:"),r.a.createElement(S.a.Control,{type:"text",id:"furnitureTitle",name:"furnitureTitle",required:!0})),r.a.createElement("p",null,"Location"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureCountry"},"Country: "),r.a.createElement(S.a.Control,{type:"text",id:"furnitureCountry",name:"furnitureCountry",required:!0}),r.a.createElement(S.a.Label,{htmlFor:"furnitureCity"},"City: "),r.a.createElement(S.a.Control,{type:"text",id:"furnitureCity",name:"furnitureCity",required:!0})),r.a.createElement("p",null,"Furniture Information"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureCategory"},"Sub-category:"),r.a.createElement(S.a.Control,{as:"select",id:"furnitureCategory",name:"furnitureCategory",required:!0},r.a.createElement("option",{value:"Chairs & Tables"},"Chairs & Tables"),r.a.createElement("option",{value:"Wardrobes"},"Wardrobes"),r.a.createElement("option",{value:"Cabinets & Closets"},"Cabinets & Closets"),r.a.createElement("option",{value:"Beds & mattresses"},"Beds & Mattresses"),r.a.createElement("option",{value:"Bookcases & shelving"},"Bookcases & Shelving"),r.a.createElement("option",{value:"Desks"},"Home desks"),r.a.createElement("option",{value:"Kitchen & dining"},"Kitchen & Dining"),r.a.createElement("option",{value:"Sofas"},"Sofas & Couches"),r.a.createElement("option",{value:"Carpets"},"Carpets"),r.a.createElement("option",{value:"Home d\xe9cor"},"Home d\xe9cor"),r.a.createElement("option",{value:"Pther"},"Other Home Furniture"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureCondition"},"Condition:"),r.a.createElement(S.a.Control,{as:"select",id:"furnitureCondition",name:"furnitureCondition",required:!0},r.a.createElement("option",{value:"Like New",default:!0},"Like New"),r.a.createElement("option",{value:"Slight Wear"},"Slight wear and tear"),r.a.createElement("option",{value:"Noticeable Wear"},"Noticeable wear and tear"))),r.a.createElement("p",null,"Payment & Shipping options"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"currencyFurnitureForm"},"Currency:"),r.a.createElement(S.a.Control,{as:"select",name:"currencyFurnitureForm",id:"currencyFurnitureForm",required:!0},r.a.createElement("option",{value:"EUR"},"EUR"),r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"NOK"},"NOK"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furniturePrice"},"Price:"),r.a.createElement(S.a.Control,{type:"number",name:"furniturePrice",id:"furniturePrice",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureShippingForm"},"Shipping:"),r.a.createElement(S.a.Check,{type:"radio",id:"furnitureShippingForm",value:"Can be shipped",label:"Can be shipped",name:"furnitureShipping"}),r.a.createElement(S.a.Check,{type:"radio",id:"furniturePickup",value:"Needs pick-up",label:"Needs pick-up",name:"furniturePickup"})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"furnitureDescription",className:"formtitledescription"},"Description:"),r.a.createElement(S.a.Control,{as:"textarea",rows:5,placeholder:"Write description here...",name:"furnitureDescription",id:"furnitureDescription"})),r.a.createElement(W,{imageArray:a}),r.a.createElement(F.a,{type:"submit"},"Submit")))},J=function(){var e=Object(i.i)(),t=Object(i.l)(),a=[],n=function(){var n=Object(L.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),0===a.length&&a.push("https://res.cloudinary.com/dysv4qjk7/image/upload/v1605793088/no_image_raloja.png"),e.firestore().collection("category").doc("services").collection("listings").doc().set({seller:t.email,title:document.getElementById("serviceTitle").value,country:document.getElementById("serviceCountry").value,city:document.getElementById("serviceCity").value,serviceType:document.getElementById("serviceType").value,description:document.getElementById("serviceDescription").value,images:a}).then((function(e){window.location="/newlistingsuccess"})).catch((function(e){console.log(e.message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"serviceTitle",className:"formtitledescription"},"Title:"),r.a.createElement(S.a.Control,{type:"text",name:"serviceTitle",id:"serviceTitle",required:!0})),r.a.createElement("p",null,"Location"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"serviceCountry"},"Country:"),r.a.createElement(S.a.Control,{type:"text",id:"serviceCountry",name:"serviceCountry",required:!0})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"serviceCity"},"City:"),r.a.createElement(S.a.Control,{type:"text",id:"serviceCity",name:"serviceCity",required:!0})),r.a.createElement("p",null,"Service Information"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"serviceType"},"Service Type:"),r.a.createElement(S.a.Control,{as:"select",name:"serviceType",id:"serviceType",required:!0},r.a.createElement("option",{value:"Tutor"},"Tutor"),r.a.createElement("option",{value:"Campus Guide"},"Campus Guide"),r.a.createElement("option",{value:"Application Support"},"Application Support"),r.a.createElement("option",{value:"Activities"},"Activities"),r.a.createElement("option",{value:"Travels"},"Travel Guide"),r.a.createElement("option",{value:"Other"},"Other"))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,{htmlFor:"serviceDescription",className:"formtitledescription"},"Description:"),r.a.createElement(S.a.Control,{as:"textarea",rows:5,placeholder:"Write description here...",name:"serviceDescription",id:"serviceDescription"})),r.a.createElement(W,{imageArray:a}),r.a.createElement(F.a,{type:"submit"},"Submit")))},Y=function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Please choose a category."));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:".formBox"},r.a.createElement("form",{id:"newListingForm",className:"form"},r.a.createElement("label",null,"Category "),r.a.createElement(S.a.Control,{as:"select",id:"listingCategory",name:"listingCategory",onChange:function(t){"housing"===t.target.value&&o.a.render(r.a.createElement(i.a,null,r.a.createElement(z,null)," "),document.getElementById("completeListingForm")),"books_and_supplies"===t.target.value&&o.a.render(r.a.createElement(i.a,null,r.a.createElement(M,null)),document.getElementById("completeListingForm")),"furniture"===t.target.value&&o.a.render(r.a.createElement(i.a,null,r.a.createElement(K,null)),document.getElementById("completeListingForm")),"services"===t.target.value&&o.a.render(r.a.createElement(i.a,null,r.a.createElement(J,null)),document.getElementById("completeListingForm")),"choose"===t.target.value&&o.a.render(e,document.getElementById("completeListingForm"))}},r.a.createElement("option",{value:"choose",default:!0},"Choose Option"),r.a.createElement("option",{value:"housing"},"Housing"),r.a.createElement("option",{value:"books_and_supplies"},"Books and supplies"),r.a.createElement("option",{value:"furniture"},"Furniture"),r.a.createElement("option",{value:"services"},"Services"))),r.a.createElement("div",{id:"completeListingForm"})))};var V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Create new listing"),r.a.createElement("hr",null),r.a.createElement(Y,null))},Q=function(e){var t,a=Object(n.useState)([]),l=Object(w.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)([]),m=Object(w.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(),g=Object(w.a)(E,2),h=g[0],f=g[1],y=Object(n.useState)(),b=Object(w.a)(y,2),v=b[0],C=b[1];Object(n.useEffect)((function(){if(0===p.length||v!==e.filter){C(e.filter);var t=c.firestore().collection("category").doc(e.filter).collection("listings").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));d(t),i(t)}));return function(){t()}}h&&0!==h.length||i(p)}),[v,p,h,e.filter]);return r.a.createElement("div",{id:"browsemarketListings"},r.a.createElement("input",{placeholder:"search",onChange:function(e){return function(e){f(e.toLowerCase())}(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return function(e){if(e.preventDefault(),""!==h){var t;t=o.filter((function(e){return e.title.toString().toLowerCase().includes(h)})),i(t)}}(e)}},"Go!"),r.a.createElement(P.a,null,o.map((function(a){return t=Array.isArray(a.images)?a.images[0]:a.images,r.a.createElement(G.a,{key:a.id,className:"shadow"},r.a.createElement(s.b,{to:"/market/".concat(e.filter,"/").concat(a.id)},r.a.createElement(G.a.Img,{src:t,variant:"top"}),r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Title,null,a.title),r.a.createElement(G.a.Text,null,a.monthlyRent,a.price," ",a.currency),r.a.createElement(G.a.Text,null,a.city,", ",a.country))))}))))},X=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={categoryFilter:null},n}return Object(h.a)(a,[{key:"changeCategory",value:function(e){var t=document.getElementById("filterCategory").value;this.props.categoryChangeThroughFilter(t)}},{key:"componentDidMount",value:function(){document.getElementById("filterCategory").value=this.props.filter}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"browsemarketFilter"},r.a.createElement("p",null,"Filter"),r.a.createElement("label",{htmlFor:"filterCategory"},"Category:"),r.a.createElement("select",{id:"filterCategory",name:"filterCategory",onChange:function(t){return e.changeCategory(t)}},r.a.createElement("option",{value:"housing"},"Housing"),r.a.createElement("option",{value:"books_and_supplies"},"Books and supplies"),r.a.createElement("option",{value:"furniture"},"Furniture"),r.a.createElement("option",{value:"services"},"Services")))}}]),a}(r.a.Component),Z=(a(83),function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).categoryChangeThroughFilter=function(e){n.setState({categoryFilter:e})},n.state={categoryFilter:null},n}return Object(h.a)(a,[{key:"chooseCategory",value:function(e){var t=e.target.id;this.setState({categoryFilter:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,!this.state.categoryFilter&&r.a.createElement("div",{id:"categoryLink"},r.a.createElement("a",{id:"housing",onClick:function(t){return e.chooseCategory(t)}},"Housing"),r.a.createElement("a",{id:"books_and_supplies",onClick:function(t){return e.chooseCategory(t)}},"Books and Supplies"),r.a.createElement("a",{id:"furniture",onClick:function(t){return e.chooseCategory(t)}},"Furniture"),r.a.createElement("a",{id:"services",onClick:function(t){return e.chooseCategory(t)}},"Services")),this.state.categoryFilter&&r.a.createElement("div",{id:"browsingmarket"},r.a.createElement("h1",null,"Marketplace"),r.a.createElement(X,{filter:this.state.categoryFilter,categoryChangeThroughFilter:this.categoryChangeThroughFilter}),r.a.createElement(Q,{filter:this.state.categoryFilter})))}}]),a}(r.a.Component));var $=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Nothing to see here"),r.a.createElement("a",{href:"/"},"Press here to return to homepage"))},ee=a(89),te=a(90),ae=a(57),ne=function(e){var t=Object(p.g)(),a=t.type,l=t.id,o=Object(n.useState)([]),i=Object(w.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)([]),E=Object(w.a)(d,2),g=E[0],h=E[1];return Object(n.useEffect)((function(){0===u.length&&c.firestore().collection("category").doc(a).collection("listings").doc(l).get().then((function(e){e.exists&&(m(e.data()),c.firestore().collection("users").doc(e.data().seller).get().then((function(e){e.exists&&h(e.data())})))}))}),[l,a,u,g]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/browsemarket",id:"backButton"},r.a.createElement(ae.a,null),"Back"),r.a.createElement(ee.a,{className:"listing"},r.a.createElement(x.a,null,u.images?r.a.createElement(te.a,null,u.images.map((function(e){return r.a.createElement(te.a.Item,null,r.a.createElement("img",{alt:"",className:"d-block w-100",src:e}))}))):r.a.createElement("p",null,"Please wait for images to load")),r.a.createElement(x.a,null,r.a.createElement("h1",null,u.title),r.a.createElement("p",null,u.description)),r.a.createElement(x.a,null,r.a.createElement("h2",{class:"text-left"},"Listing information"),r.a.createElement(x.a,null,r.a.createElement("p",{className:"font-weight-bold text-uppercase"},u.city,", ",u.country)),r.a.createElement(x.a,null,function(){if("housing"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Addr.:")," ",u.street),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Rent:")," ",u.monthlyRent," ",u.currency),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Deposit:")," ",u.deposit,u.currency),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Hosing type:")," ",u.housingType),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Available from")," ",u.availableFrom),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Renting period:")," ",u.rentingPeriod),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Size:")," ",u.size," m",r.a.createElement("sup",null,"2")),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Floor:")," ",u.floor,"."))}()," ",function(){if("furniture"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Price"),"  ",u.price," ",u.currency),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Category")," ",u.furnitureCategory),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Condtion")," ",u.condition),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Shipping information:")," ",u.shipping))}()," ",function(){if("services"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Sevice Type:")," ",u.serviceType))}()," ",function(){if("books_and_supplies"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Price:")," ",u.price," ",u.currency),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Condition:")," ",u.condition),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold text-uppercase"},"Shipping information:")," ",u.shipping))}())),r.a.createElement(x.a,null,r.a.createElement("h2",{class:"text-left"},"Contact seller"),r.a.createElement("p",{className:"font-weight-bold text-uppercase"},g.fname," ",g.lname),r.a.createElement("p",null,"tlf.: ",r.a.createElement("a",{href:"tel:"+g.phoneno},g.phoneno)),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:"+u.seller},u.seller)))))};var re=function(){return r.a.createElement("main",null,r.a.createElement("h2",null,"Your listing has been posted!"),r.a.createElement("a",{href:"/profile"},"Click here to view your listings"))};var le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"https://ethoyer.github.io/webproject-III/",component:v}),r.a.createElement(p.b,{exact:!0,path:"/CategoryButton",component:b}),r.a.createElement(p.b,{exact:!0,path:"/login",component:j}),r.a.createElement(p.b,{exact:!0,path:"/register",component:B}),r.a.createElement(p.b,{exact:!0,path:"/registersuccess",component:N}),r.a.createElement(E,{exact:!0,path:"/profile",component:A}),r.a.createElement(p.b,{exact:!0,path:"/editprofile",component:U}),r.a.createElement(E,{exact:!0,path:"/newListing",component:V}),r.a.createElement(p.b,{exact:!0,path:"/browseMarket",component:Z}),r.a.createElement(p.b,{exact:!0,path:"/newlistingsuccess",component:re}),r.a.createElement(p.b,{exact:!0,path:"/market/:type?/:id?",children:r.a.createElement(ne,null)}),r.a.createElement(p.b,{path:"*",component:$}))))},oe=function(){var e=Object(i.i)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/",onClick:function(){e.auth().signOut()}},"Log Out"))},ie=a(61);var ce=function(){var e=Object(i.l)();return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("a",{href:"/"},"Home"),e&&r.a.createElement(oe,null),!e&&r.a.createElement("a",{href:"/login"},"Login"),e&&r.a.createElement("a",{href:"/profile"},"Profile"),e&&r.a.createElement("a",{href:"/newlisting"}," ",r.a.createElement(ie.a,null)," New Listing")))},ue=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Webproject III, group 1 | DigitalNorway"))};o.a.render(r.a.createElement(i.a,{firebaseConfig:m},r.a.createElement(n.Suspense,{fallback:r.a.createElement("h3",null,"Loading...")},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null),r.a.createElement("main",null,r.a.createElement(le,null)),r.a.createElement(ue,null)))),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f5026ba2.chunk.js.map